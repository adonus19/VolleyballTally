<mat-tab-group (selectedTabChange)="onTabChange($event)">
  <mat-tab label="All">
    <ng-template [ngTemplateOutlet]="all"></ng-template>
  </mat-tab>
  <mat-tab label="Practice">
    <ng-template [ngTemplateOutlet]="all"></ng-template>
  </mat-tab>
  <mat-tab label="Game">
    <ng-template [ngTemplateOutlet]="all"></ng-template>
  </mat-tab>
</mat-tab-group>

<ng-template #all>
  @if((sessions() || []).length) {
  <mat-list>
    @for(session of filteredSessions(); track session.date) {
    <mat-list-item (click)="open(session.id)">
      <button
        matButton="filled"
        [color]="session.type === 'practice' ? 'primary' : 'tertiary'"
      >{{ session.type | titlecase }}</button>
      <span class="date">{{ session.date | date:'shortDate' }}</span>
    </mat-list-item>
    <mat-divider></mat-divider>
    }
    @if (!filteredSessions().length) {
    <p class="no-sessions">No {{ filter === 'all' ? 'sessions': `${filter}s` }} yet.</p>
    }
  </mat-list>
  }
</ng-template>

<button
  mat-fab
  color="primary"
  aria-label="Create"
  [matMenuTriggerFor]="fabMenu"
  class="vt-fab"
><mat-icon><span class="material-symbols-outlined">
      add
    </span></mat-icon>
</button>

<mat-menu
  #fabMenu
  xPosition="before"
  yPosition="above"
>
  <button
    mat-menu-item
    (click)="create('practice')"
    aria-label="New Practice"
  >
    <mat-icon><span class="material-symbols-outlined">
        exercise
      </span></mat-icon>
    <span>New Practice</span>
  </button>
  <button
    mat-menu-item
    (click)="create('game')"
    aria-label="New Game"
  >
    <mat-icon><span class="material-symbols-outlined">
        sports_volleyball
      </span></mat-icon>
    <span>New Game</span>
  </button>
</mat-menu>